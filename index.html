<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hippopotamus Research</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a1a2e;
            --secondary-color: #16213e;
            --accent-color: #0f3460;
            --highlight-color: #e94560;
            --text-light: #ffffff;
            --text-dark: #1a1a2e;
            --gradient-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --gradient-accent: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
            --shadow-primary: 0 20px 40px rgba(26, 26, 46, 0.15);
            --shadow-accent: 0 10px 30px rgba(233, 69, 96, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Heebo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--gradient-primary);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
            color: var(--text-light);
            line-height: 1.6;
        }
        
        .container {
            max-width: 98vw;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: var(--shadow-primary);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header {
            background: var(--gradient-primary);
            color: var(--text-light);
            padding: 0;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 30% 30%, rgba(233, 69, 96, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(15, 52, 96, 0.2) 0%, transparent 50%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            padding: 40px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            background: var(--gradient-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-accent);
            animation: pulse 2s ease-in-out infinite;
            overflow: hidden;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .logo-container::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: var(--gradient-accent);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.3;
            animation: pulse 2s ease-in-out infinite reverse;
        }
        
        .logo-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            display: block;
        }
        
        .logo-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }
        
        .brand-info {
            text-align: right;
        }
        
        .brand-name {
            font-size: 2.2em;
            font-weight: 700;
            margin-bottom: 5px;
            background: linear-gradient(45deg, #ffffff, #e94560);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .brand-subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .social-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .twitter-link {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            color: var(--text-light);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .twitter-link:hover {
            background: rgba(233, 69, 96, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(233, 69, 96, 0.3);
        }
        
        .twitter-icon {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }
        
        .content {
            padding: 40px 30px;
            color: var(--text-dark);
        }
        
        .welcome-section {
            background: rgba(233, 69, 96, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .welcome-section h2 {
            color: var(--accent-color);
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        .welcome-section p {
            color: var(--text-dark);
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        
        .articles-grid {
            display: flex;
            overflow-x: auto;
            gap: 30px;
            margin-top: 30px;
            padding: 20px 0;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        
        .articles-grid::-webkit-scrollbar {
            height: 8px;
        }
        
        .articles-grid::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
        }
        
        .articles-grid::-webkit-scrollbar-thumb {
            background: var(--highlight-color);
            border-radius: 4px;
        }
        
        .articles-grid::-webkit-scrollbar-thumb:hover {
            background: #d63384;
        }
        
        .article-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
            width: 350px;
            height: 350px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .article-ticker {
            background: var(--gradient-accent);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .article-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-dark);
            line-height: 1.4;
        }
        
        .article-summary {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
            display: -webkit-box;
            line-clamp: 3; -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9em;
            color: #888;
        }
        
        .article-link {
            background: var(--gradient-primary);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .article-link:hover {
            background: var(--gradient-accent);
            transform: translateY(-2px);
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-dark);
        }
        
        .loading i {
            font-size: 2em;
            color: var(--highlight-color);
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .no-articles {
            text-align: center;
            padding: 40px;
            color: var(--text-dark);
        }
        
        .no-articles i {
            font-size: 3em;
            color: var(--highlight-color);
            margin-bottom: 20px;
        }
        
        .disclaimer {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            color: var(--text-dark);
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .disclaimer strong {
            color: #ffc107;
            display: block;
            margin-bottom: 10px;
        }
        
        .disclaimer h3 {
            color: var(--accent-color);
            margin-top: 15px;
            margin-bottom: 0;
            font-size: 1.2em;
        }
        
        .footer {
            background: var(--gradient-primary);
            color: var(--text-light);
            padding: 20px 30px;
            text-align: center;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .footer .timestamp {
            margin-bottom: 5px;
        }
        
        .footer .source {
            font-style: italic;
        }
        
        .scroll-hint {
            display: none;
            text-align: center;
            color: var(--highlight-color);
            font-size: 1.1em;
            margin-bottom: 10px;
            opacity: 0.85;
            user-select: none;
            pointer-events: none;
            font-weight: 500;
            letter-spacing: 0.02em;
        }
        .scroll-hint i {
            font-size: 1.5em;
            vertical-align: middle;
            margin: 0 5px;
            animation: bounce-x 1.5s infinite;
        }
        @keyframes bounce-x {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(12px); }
        }
        @media (max-width: 768px) {
            .container {
                width: 98vw;
                border-radius: 20px;
                padding: 0;
            }
            .articles-grid {
                gap: 20px;
                padding: 15px 0;
            }
            
            .article-card {
                width: 300px;
                height: 300px;
                padding: 20px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .brand-info {
                text-align: center;
            }
            
            .brand-name {
                font-size: 1.8em;
            }
            
            .logo-container {
                width: 80px;
                height: 80px;
            }
            
            .logo-image {
                width: 70px;
                height: 70px;
            }
            
            .scroll-hint {
                display: block;
            }
        }
        .search-bar {
            width: 100%;
            max-width: 400px;
            margin: 0 auto 25px auto;
            display: flex;
            align-items: center;
            background: #fff;
            border-radius: 30px;
            box-shadow: 0 2px 8px rgba(233,69,96,0.07);
            border: 1px solid #eee;
            padding: 6px 18px;
            font-size: 1.1em;
        }
        .search-bar input {
            border: none;
            outline: none;
            background: transparent;
            font-size: 1.1em;
            flex: 1;
            color: var(--text-dark);
            padding: 10px 0;
        }
        .search-bar i {
            color: var(--highlight-color);
            margin-left: 10px;
            font-size: 1.2em;
        }
        @media (max-width: 768px) {
            .search-bar {
                max-width: 98vw;
                font-size: 1em;
                padding: 4px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-container">
                        <div class="logo-image">
                            <img src="articles/logo.png" alt="Hippopotamus Research Logo">
                        </div>
                    </div>
                    <div class="brand-info">
                        <div class="brand-name">Hippopotamus Research</div>
                        <div class="brand-subtitle">ניתוח סיבתיות של תנועות מניה</div>
                    </div>
                </div>
                <div class="social-section">
                    <a href="https://x.com/hippopotamus_research" class="twitter-link" title="עקבו אחרינו ב-X" target="_blank">
                        <img src="articles/x.png" alt="X (Twitter)" class="twitter-icon">
                        <span>עקבו אחרינו</span>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="content">
            <form class="search-bar" onsubmit="return false;">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="חפש טיקר (למשל: AAPL, TSLA, META)" autocomplete="off">
            </form>
            <div class="welcome-section">
                <h2>ניתוח סיבתיות של תנועות מניה</h2>
                <p>Hippopotamus Research הוא גוף עצמאי המתמחה בניתוח סיבתיות של תנועות מניה בסיום יום המסחר.</p>
                <p>המערכת בוחנת כל תזוזה מהותית — ומספקת הסבר ממוקד, ענייני ומבוסס נתונים לשאלה: <strong>למה המניה זזה היום?</strong></p>
                <p>כל כתבה מבוססת על ניתוח הצהרות הנהלה, עסקאות מוסדיות, תחזיות דיבידנד, מהלכים משפטיים, תנועות פנים, שינויי רגולציה, שיח ציבורי, ותנועות סקטוריאליות. אין תיאוריה – רק מידע מסונן ומנותח בקפדנות.</p>
            </div>
            <div class="newsletter-section" style="margin: 0 auto 30px auto; max-width: 600px; text-align: center;">
                <h3 style="color: var(--accent-color); margin-bottom: 10px; font-size: 1.2em;">הצטרפו לרשימת התפוצה שלנו</h3>
                <iframe
                    scrolling="no"
                    style="width:100%!important;height:220px;border:1px #ccc solid !important;border-radius:12px;background:#fff;"
                    src="https://buttondown.com/nirstam?as_embed=true"
                ></iframe>
            </div>
          
            <div id="articles-container">
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>טוען כתבות...</p>
                </div>
            </div>
            
            <div class="disclaimer">
                <strong>הסתייגות משפטית:</strong>
                המידע הנ״ל מבוסס על מקורות מידע שונים ועלול להשתנות בכל עת. המידע המוזכר בכתבה זו מוגבל לצורך מחקר והנאה ואין לראות בכתוב המלצה להשקעה. יש להתייעץ עם יועץ פיננסי לפני קבלת החלטות השקעה.
                <br><br>
                <strong>הערה:</strong> הניתוח נוצר באמצעות מודל בינה מלאכותית ועלול לכלול שגיאות כתיב או ניסוח. אנו מתנצלים מראש על אי-הדיוקים האפשריים.
                <br><br>
                <strong>מקורות המידע:</strong> Finviz, Briefing.com, Zacks, Alpha Vantage, Quandl,MarketBeat
                <h3>Hippopotamus Research</h3>
            </div>
        </div>
        
        <div class="footer">
            <div class="timestamp">נוצר ב: 18/06/2025 12:19</div>
            <div class="source">מקורות: Finviz, Briefing.com, Zacks, Alpha Vantage, Quandl,MarketBeat | ניתוח באמצעות aya-expanse:8b</div>
        </div>
    </div>

    <script>
        // פונקציה לטעינת הכתבות מהמטא-דאטה
        async function loadArticles() {
            try {
                console.log('🔄 מתחיל טעינת כתבות...');
                
                // הוספת timestamp למניעת קאש
                const timestamp = new Date().getTime();
                const url = `articles_metadata.json?t=${timestamp}`;
                console.log('📡 טוען מ:', url);
                
                const response = await fetch(url);
                console.log('📊 תגובת שרת:', response.status, response.statusText);
                
                if (!response.ok) {
                    throw new Error(`שגיאת שרת: ${response.status} ${response.statusText}`);
                }
                
                const metadata = await response.json();
                console.log('📋 מטא-דאטה נטענה:', metadata.length, 'כתבות');
                
                if (metadata.length === 0) {
                    console.log('⚠️ אין כתבות זמינות');
                    showNoArticles();
                    return;
                }
                
                // מיון לפי תאריך (חדש ביותר קודם)
                metadata.sort((a, b) => {
                    const dateA = new Date(a.timestamp.split(' ')[0].split('/').reverse().join('-'));
                    const dateB = new Date(b.timestamp.split(' ')[0].split('/').reverse().join('-'));
                    return dateB - dateA;
                });
                
                console.log('✅ מציג כתבות...');
                displayArticles(metadata);
                
            } catch (error) {
                console.error('❌ שגיאה בטעינת כתבות:', error);
                showError(error.message);
            }
        }
        
        // פונקציה למיון לפי זמן פרסום
        function sortByPublicationTime(articles) {
            return articles.sort((a, b) => {
                // המרת התאריך לפורמט ISO
                const dateA = new Date(a.timestamp.split(' ')[0].split('/').reverse().join('-') + ' ' + a.timestamp.split(' ')[1]);
                const dateB = new Date(b.timestamp.split(' ')[0].split('/').reverse().join('-') + ' ' + b.timestamp.split(' ')[1]);
                return dateB - dateA; // חדש ביותר קודם
            });
        }
        
        function displayArticles(metadata, filterValue = "") {
            const container = document.getElementById('articles-container');
            // מיון לפי זמן פרסום
            const sortedArticles = sortByPublicationTime([...metadata]);
            // סינון לפי חיפוש
            let filtered = sortedArticles;
            if (filterValue) {
                const val = filterValue.trim().toLowerCase();
                filtered = sortedArticles.filter(article => article.ticker.toLowerCase().includes(val));
            }
            let html = `
                <div style="background: rgba(233, 69, 96, 0.1); border-radius: 10px; padding: 20px; margin-bottom: 30px; text-align: center;">
                    <h3 style="color: var(--accent-color); margin-bottom: 10px;">📊 סטטיסטיקות</h3>
                    <p style="color: var(--text-dark); font-size: 1.1em;">סה\"כ כתבות: ${sortedArticles.length} | כתבה אחרונה: ${sortedArticles[0].timestamp}</p>
                    <div class=\"scroll-hint\"><i class=\"fas fa-angle-double-left\"></i> גלול לצדדים <i class=\"fas fa-angle-double-right\"></i></div>
                </div>
                <div class=\"articles-grid\">
            `;
            if (filtered.length === 0) {
                html += `<div style='color:#e94560;text-align:center;width:100%;font-size:1.1em;padding:40px;'>לא נמצאו כתבות לטיקר שחיפשת</div>`;
            } else {
                filtered.forEach(article => {
                    html += `
                        <div class=\"article-card\">
                            <div class=\"article-ticker\">${article.ticker}</div>
                            <h3 class=\"article-title\">${article.title}</h3>
                            <p class=\"article-summary\">${article.summary}</p>
                            <div class=\"article-meta\">
                                <span>📅 ${article.timestamp}</span>
                                <a href=\"articles/${article.filename}\" class=\"article-link\">קרא כתבה</a>
                            </div>
                        </div>
                    `;
                });
            }
            html += '</div>';
            container.innerHTML = html;
        }
        
        function showNoArticles() {
            const container = document.getElementById('articles-container');
            container.innerHTML = `
                <div class="no-articles">
                    <i class="fas fa-newspaper"></i>
                    <h3>אין כתבות זמינות כרגע</h3>
                    <p>הכתבות הראשונות יופיעו כאן בקרוב</p>
                </div>
            `;
        }
        
        function showError(message) {
            const container = document.getElementById('articles-container');
            container.innerHTML = `
                <div class="error-message" style="background: #fee; border: 1px solid #fcc; padding: 20px; border-radius: 10px; text-align: center; color: #c33;">
                    <h3>שגיאה בטעינת כתבות</h3>
                    <p>${message}</p>
                    <button onclick="loadArticles()" style="background: var(--accent-color); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                        נסה שוב
                    </button>
                </div>
            `;
        }
        
        document.getElementById('searchInput').addEventListener('input', function(e) {
            loadArticlesWithFilter(e.target.value);
        });
        function loadArticlesWithFilter(filterValue) {
            fetch('articles_metadata.json?t=' + new Date().getTime())
                .then(r => r.json())
                .then(metadata => displayArticles(metadata, filterValue));
        }
        
        // טעינת הכתבות כשהדף נטען
        document.addEventListener('DOMContentLoaded', function() {
            loadArticles();
            document.getElementById('searchInput').addEventListener('input', function(e) {
                loadArticlesWithFilter(e.target.value);
            });
        });
    </script>
</body>
</html> 